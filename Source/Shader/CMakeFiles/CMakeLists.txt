
cmake_minimum_required(VERSION 3.22)
project(Shaders)

set(CMAKE_CXX_STANDARD 20)
 
set(VERTEXSHADER_FILES  Vertex.hlsl)
set(PIXELSHADER_FILES  Pixel.hlsl)

set_property(SOURCE ${VERTEXSHADER_FILES} PROPERTY VS_SHADER_TYPE Vertex)
set_property(SOURCE ${VERTEXSHADER_FILES} PROPERTY VS_SHADER_ENTRYPOINT Vmain)
set_property(SOURCE ${VERTEXSHADER_FILES} PROPERTY VS_SHADER_MODEL 5.0)

set_property(SOURCE ${VERTEXSHADER_FILES} PROPERTY VS_SHADER_FLAGS "/DFLAGS_ADDED /Fh \"$(OutDir)%(Filename).h\"")
set_property(SOURCE ${PIXELSHADER_FILES} PROPERTY VS_SHADER_TYPE Pixel)
set_property(SOURCE ${PIXELSHADER_FILES} PROPERTY VS_SHADER_ENTRYPOINT Pmain)
set_property(SOURCE ${PIXELSHADER_FILES} PROPERTY VS_SHADER_MODEL 5.0)

set_property(SOURCE ${PIXELSHADER_FILES} PROPERTY VS_SHADER_FLAGS "/DFLAGS_ADDED /Fh \"$(OutDir)%(Filename).h\"")
set(SHADER_PROGRAM
  ${PIXELSHADER_FILES}
  ${VERTEXSHADER_FILES}
)

set_property(SOURCE ${PIXELSHADER_FILES} PROPERTY VS_SHADER_ENABLE_DEBUG true)

 
 
add_executable(${PROJECT_NAME}  ${SHADER_PROGRAM})
 set_target_properties(${PROJECT_NAME}  PROPERTIES LINKER_LANGUAGE hlsl )

 
 

#[==[
#]==]